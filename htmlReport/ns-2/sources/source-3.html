


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1252"> 
  <title>Coverage Report > Expression</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.iguana.datadependent.ast</a>
</div>

<h1>Coverage Summary for Class: Expression (org.iguana.datadependent.ast)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Expression</td>
<td class="coverageStat">
  <span class="percent">
    25%
  </span>
  <span class="absValue">
    (1/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    25%
  </span>
  <span class="absValue">
    (1/4)
  </span>
</td>
</tr>
  <tr>
    <td class="name">Expression$Add</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (3/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    66.7%
  </span>
  <span class="absValue">
    (6/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$And</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (3/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (5/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$AndIndent</td>
<td class="coverageStat">
  <span class="percent">
    80%
  </span>
  <span class="absValue">
    (8/10)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    73.3%
  </span>
  <span class="absValue">
    (22/30)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Assignment</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (9/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    94.7%
  </span>
  <span class="absValue">
    (18/19)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$BinaryExpression</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (14/14)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Boolean</td>
<td class="coverageStat">
  <span class="percent">
    66.7%
  </span>
  <span class="absValue">
    (2/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    75%
  </span>
  <span class="absValue">
    (3/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Boolean$1</td>
<td class="coverageStat">
  <span class="percent">
    25%
  </span>
  <span class="absValue">
    (1/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    25%
  </span>
  <span class="absValue">
    (1/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Boolean$2</td>
<td class="coverageStat">
  <span class="percent">
    25%
  </span>
  <span class="absValue">
    (1/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    25%
  </span>
  <span class="absValue">
    (1/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Call</td>
<td class="coverageStat">
  <span class="percent">
    87.5%
  </span>
  <span class="absValue">
    (7/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    87.5%
  </span>
  <span class="absValue">
    (14/16)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Divide</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$EndOfFile</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/13)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Equal</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (3/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    84.6%
  </span>
  <span class="absValue">
    (11/13)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Greater</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (3/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    66.7%
  </span>
  <span class="absValue">
    (6/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$GreaterThanEqual</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (5/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    72.7%
  </span>
  <span class="absValue">
    (8/11)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$IfThenElse</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (9/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (20/20)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Integer</td>
<td class="coverageStat">
  <span class="percent">
    75%
  </span>
  <span class="absValue">
    (6/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    83.3%
  </span>
  <span class="absValue">
    (10/12)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$IntTuple2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/14)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$LeftExtent</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (8/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    93.3%
  </span>
  <span class="absValue">
    (14/15)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Less</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$LessThanEqual</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (3/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    66.7%
  </span>
  <span class="absValue">
    (6/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$LShiftANDEqZero</td>
<td class="coverageStat">
  <span class="percent">
    75%
  </span>
  <span class="absValue">
    (6/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    64.7%
  </span>
  <span class="absValue">
    (11/17)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Multiply</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Name</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (8/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    93.8%
  </span>
  <span class="absValue">
    (15/16)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Not</td>
<td class="coverageStat">
  <span class="percent">
    71.4%
  </span>
  <span class="absValue">
    (5/7)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    57.1%
  </span>
  <span class="absValue">
    (8/14)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$NotEqual</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (3/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    66.7%
  </span>
  <span class="absValue">
    (6/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Or</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (3/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (5/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$OrIndent</td>
<td class="coverageStat">
  <span class="percent">
    80%
  </span>
  <span class="absValue">
    (8/10)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    75.8%
  </span>
  <span class="absValue">
    (25/33)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Real</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/10)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$RightExtent</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (8/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    89.5%
  </span>
  <span class="absValue">
    (17/19)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$String</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/11)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Subtract</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Tuple</td>
<td class="coverageStat">
  <span class="percent">
    87.5%
  </span>
  <span class="absValue">
    (7/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    90.9%
  </span>
  <span class="absValue">
    (20/22)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Val</td>
<td class="coverageStat">
  <span class="percent">
    62.5%
  </span>
  <span class="absValue">
    (5/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    60%
  </span>
  <span class="absValue">
    (12/20)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Expression$Yield</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (9/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    87.5%
  </span>
  <span class="absValue">
    (21/24)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    68.3%
  </span>
  <span class="absValue">
    (140/205)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    65.1%
  </span>
  <span class="absValue">
    (300/461)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * Copyright (c) 2015, Ali Afroozeh and Anastasia Izmaylova, Centrum Wiskunde &amp; Informatica (CWI)
&nbsp; * All rights reserved.
&nbsp; *
&nbsp; * Redistribution and use in source and binary forms, with or without
&nbsp; * modification, are permitted provided that the following conditions are met:
&nbsp; *
&nbsp; * 1. Redistributions of source code must retain the above copyright notice, this
&nbsp; *    list of conditions and the following disclaimer.
&nbsp; *
&nbsp; * 2. Redistributions in binary form must reproduce the above copyright notice, this
&nbsp; *    list of conditions and the following disclaimer in the documentation and/or
&nbsp; *    other materials provided with the distribution.
&nbsp; *
&nbsp; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND
&nbsp; * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
&nbsp; * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
&nbsp; * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
&nbsp; * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
&nbsp; * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
&nbsp; * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
&nbsp; * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
&nbsp; * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
&nbsp; * OF SUCH DAMAGE.
&nbsp; *
&nbsp; */
&nbsp;
&nbsp;package org.iguana.datadependent.ast;
&nbsp;
&nbsp;import org.iguana.datadependent.env.IEvaluatorContext;
&nbsp;import org.iguana.datadependent.traversal.IAbstractASTVisitor;
&nbsp;import org.iguana.grammar.exception.UndeclaredVariableException;
&nbsp;import org.iguana.grammar.exception.UnexpectedTypeOfArgumentException;
&nbsp;import org.iguana.result.RecognizerResult;
&nbsp;import org.iguana.sppf.NonPackedNode;
&nbsp;import org.iguana.sppf.NonterminalNodeWithValue;
&nbsp;import org.iguana.utils.input.Input;
&nbsp;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.Arrays;
&nbsp;import java.util.List;
&nbsp;import java.util.Objects;
&nbsp;import java.util.stream.Collectors;
&nbsp;
&nbsp;import static java.lang.Integer.toUnsignedLong;
&nbsp;import static org.iguana.utils.string.StringUtil.listToString;
&nbsp;
<b class="fc">&nbsp;public abstract class Expression extends AbstractAST {</b>
&nbsp;
&nbsp;    public boolean isBoolean() {
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
<b class="fc">&nbsp;    public abstract static class Boolean extends Expression {</b>
&nbsp;
<b class="fc">&nbsp;        static final Boolean TRUE = new Boolean() {</b>
&nbsp;
&nbsp;            @Override
&nbsp;            public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="nc">&nbsp;                return true;</b>
&nbsp;            }
&nbsp;
&nbsp;            @Override
&nbsp;            public java.lang.String toString() {
<b class="nc">&nbsp;                return &quot;true&quot;;</b>
&nbsp;            }
&nbsp;
&nbsp;            @Override
&nbsp;            public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="nc">&nbsp;                return visitor.visit(this);</b>
&nbsp;            }
&nbsp;        };
&nbsp;
<b class="fc">&nbsp;        static final Boolean FALSE = new Boolean() {</b>
&nbsp;
&nbsp;            @Override
&nbsp;            public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="nc">&nbsp;                return false;</b>
&nbsp;            }
&nbsp;
&nbsp;            @Override
&nbsp;            public java.lang.String toString() {
<b class="nc">&nbsp;                return &quot;false&quot;;</b>
&nbsp;            }
&nbsp;
&nbsp;            @Override
&nbsp;            public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="nc">&nbsp;                return visitor.visit(this);</b>
&nbsp;            }
&nbsp;
&nbsp;        };
&nbsp;
&nbsp;        public boolean isBoolean() {
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public boolean isInteger() {
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static class Integer extends Expression {
&nbsp;
&nbsp;        private final java.lang.Integer value;
&nbsp;
<b class="fc">&nbsp;        Integer(java.lang.Integer value) {</b>
<b class="fc">&nbsp;            this.value = value;</b>
&nbsp;        }
&nbsp;
&nbsp;        public boolean isInteger() {
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        public int getValue() {
<b class="nc">&nbsp;            return value;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            return value;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="fc">&nbsp;            if (this == obj) return true;</b>
<b class="fc">&nbsp;            if (!(obj instanceof Integer)) return false;</b>
<b class="fc">&nbsp;            Integer other = (Integer) obj;</b>
<b class="fc">&nbsp;            return this.value.equals(other.value);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="fc">&nbsp;            return value.hashCode();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="fc">&nbsp;            return java.lang.String.valueOf(value);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class Real extends Expression {
&nbsp;
&nbsp;        private final java.lang.Float value;
&nbsp;
<b class="nc">&nbsp;        Real(java.lang.Float value) {</b>
<b class="nc">&nbsp;            this.value = value;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="nc">&nbsp;            return value;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="nc">&nbsp;            return value.toString();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="nc">&nbsp;            if (this == obj) return true;</b>
<b class="nc">&nbsp;            if (!(obj instanceof Real)) return false;</b>
<b class="nc">&nbsp;            Real other = (Real) obj;</b>
<b class="nc">&nbsp;            return this.value.equals(other.value);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="nc">&nbsp;            return value.hashCode();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="nc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public boolean isString() {
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static class String extends Expression {
&nbsp;
&nbsp;        private final java.lang.String value;
&nbsp;
<b class="nc">&nbsp;        String(java.lang.String value) {</b>
<b class="nc">&nbsp;            this.value = value;</b>
&nbsp;        }
&nbsp;
&nbsp;        public boolean isString() {
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="nc">&nbsp;            return value;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="nc">&nbsp;            return value;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="nc">&nbsp;            if (this == obj) return true;</b>
<b class="nc">&nbsp;            if (!(obj instanceof String)) return false;</b>
<b class="nc">&nbsp;            String other = (String) obj;</b>
<b class="nc">&nbsp;            return this.value.equals(other.value);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="nc">&nbsp;            return value.hashCode();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="nc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static class Not extends Expression {
&nbsp;
&nbsp;        private final Expression exp;
&nbsp;
<b class="fc">&nbsp;        Not(Expression exp) {</b>
<b class="fc">&nbsp;            this.exp = exp;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getExp() {
<b class="fc">&nbsp;            return exp;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            Object value = exp.interpret(ctx, input);</b>
<b class="fc">&nbsp;            if (!(value instanceof java.lang.Boolean)) {</b>
<b class="nc">&nbsp;                throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;            }
<b class="fc">&nbsp;            return !(java.lang.Boolean) value;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="nc">&nbsp;            if (obj == this) return true;</b>
<b class="nc">&nbsp;            if (!(obj instanceof Not)) return false;</b>
<b class="nc">&nbsp;            Not other = (Not) obj;</b>
<b class="nc">&nbsp;            return other.exp == this.exp;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="nc">&nbsp;            return exp.hashCode();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="fc">&nbsp;            return &quot;!&quot; + exp;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static class Tuple extends Expression {
&nbsp;
&nbsp;        private final Expression[] elements;
&nbsp;        private final int length;
&nbsp;
<b class="fc">&nbsp;        Tuple(Expression... elements) {</b>
<b class="fc">&nbsp;            this.elements = elements;</b>
<b class="fc">&nbsp;            for (Expression element : elements)</b>
<b class="fc">&nbsp;                if (element == null)</b>
<b class="nc">&nbsp;                    throw new RuntimeException(&quot;Expressions of a tuple should not be null.&quot;);</b>
<b class="fc">&nbsp;            this.length = elements.length;</b>
&nbsp;        }
&nbsp;
&nbsp;        public int length() {
<b class="nc">&nbsp;            return length;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression[] getElements() {
<b class="fc">&nbsp;            return elements;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            if (length == 1)</b>
<b class="fc">&nbsp;                return elements[0].interpret(ctx, input);</b>
&nbsp;
<b class="fc">&nbsp;            Object[] values = new Object[elements.length];</b>
<b class="fc">&nbsp;            for (int i = 0; i &lt; elements.length; i++) {</b>
<b class="fc">&nbsp;                values[i] = elements[i].interpret(ctx, input);</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            return values;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="fc">&nbsp;            return &quot;(&quot; + listToString(Arrays.stream(elements).map(Object::toString)</b>
<b class="fc">&nbsp;                .collect(Collectors.toList()), &quot;,&quot;) + &quot;)&quot;;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="fc">&nbsp;            if (this == obj) return true;</b>
<b class="fc">&nbsp;            if (!(obj instanceof Tuple)) return false;</b>
<b class="fc">&nbsp;            Tuple other = (Tuple) obj;</b>
<b class="fc">&nbsp;            return this.length == other.length &amp;&amp; Arrays.equals(this.elements, other.elements);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="fc">&nbsp;            return Objects.hash(Arrays.hashCode(this.elements), this.length);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static class IntTuple2 extends Expression {
&nbsp;
&nbsp;        private final Integer element1;
&nbsp;        private final Integer element2;
&nbsp;        private final Long longValue;
&nbsp;
<b class="nc">&nbsp;        IntTuple2(Integer element1, Integer element2) {</b>
<b class="nc">&nbsp;            this.element1 = element1;</b>
<b class="nc">&nbsp;            this.element2 = element2;</b>
<b class="nc">&nbsp;            this.longValue = toUnsignedLong(element1.value) &lt;&lt; 32 | toUnsignedLong(element2.value);</b>
&nbsp;        }
&nbsp;
&nbsp;        public Integer getElement1() {
<b class="nc">&nbsp;            return element1;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Integer getElement2() {
<b class="nc">&nbsp;            return element2;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="nc">&nbsp;            return longValue;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="nc">&nbsp;            return &quot;(&quot; + element1 + &quot;, &quot; + element2 + &quot;)&quot;;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="nc">&nbsp;            if (this == obj) return true;</b>
<b class="nc">&nbsp;            if (!(obj instanceof IntTuple2)) return false;</b>
<b class="nc">&nbsp;            IntTuple2 other = (IntTuple2) obj;</b>
<b class="nc">&nbsp;            return element1.equals(other.element1) &amp;&amp; element2.equals(other.element2);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="nc">&nbsp;            return Objects.hash(element1, element2);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="nc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static class Name extends Expression {
&nbsp;
&nbsp;        private final java.lang.String name;
&nbsp;        private final int i;
&nbsp;
&nbsp;        Name(java.lang.String name) {
<b class="fc">&nbsp;            this(name, -1);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        Name(java.lang.String name, int i) {</b>
<b class="fc">&nbsp;            this.name = name;</b>
<b class="fc">&nbsp;            this.i = i;</b>
&nbsp;        }
&nbsp;
&nbsp;        public java.lang.String getName() {
<b class="fc">&nbsp;            return name;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            Object value = i != -1 ? ctx.lookupVariable(i) : ctx.lookupVariable(name);</b>
<b class="fc">&nbsp;            if (value == null) {</b>
<b class="nc">&nbsp;                throw new UndeclaredVariableException(name);</b>
&nbsp;            }
<b class="fc">&nbsp;            return value;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="fc">&nbsp;            if (this == obj) return true;</b>
<b class="fc">&nbsp;            if (!(obj instanceof Name)) return false;</b>
<b class="fc">&nbsp;            Name other = (Name) obj;</b>
<b class="fc">&nbsp;            return this.name.equals(other.name) &amp;&amp; this.i == other.i;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="fc">&nbsp;            return Objects.hash(this.name, this.i);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="fc">&nbsp;            return name + (i != -1 ? &quot;:&quot; + i : &quot;&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public abstract static class Call extends Expression {
&nbsp;
&nbsp;        protected final java.lang.String fun;
&nbsp;        protected final Expression[] arguments;
&nbsp;
<b class="fc">&nbsp;        Call(java.lang.String fun, Expression... arguments) {</b>
<b class="fc">&nbsp;            this.fun = fun;</b>
<b class="fc">&nbsp;            this.arguments = arguments == null ? new Expression[0] : arguments;</b>
&nbsp;        }
&nbsp;
&nbsp;        public java.lang.String getFunName() {
<b class="nc">&nbsp;            return fun;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression[] getArguments() {
<b class="fc">&nbsp;            return this.arguments;</b>
&nbsp;        }
&nbsp;
&nbsp;        protected List&lt;Object&gt; interpretArguments(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            List&lt;Object&gt; objects = new ArrayList&lt;&gt;();</b>
<b class="fc">&nbsp;            for (Expression argument : arguments) {</b>
<b class="nc">&nbsp;                objects.add(argument.interpret(ctx, input));</b>
&nbsp;            }
<b class="fc">&nbsp;            return objects;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="fc">&nbsp;            if (this == obj) return true;</b>
<b class="fc">&nbsp;            if (!(obj instanceof Call)) return false;</b>
<b class="fc">&nbsp;            Call other = (Call) obj;</b>
<b class="fc">&nbsp;            return this.fun.equals(other.fun) &amp;&amp; Arrays.equals(this.arguments, other.arguments);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="fc">&nbsp;            return Objects.hash(this.fun, Arrays.hashCode(this.arguments));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="fc">&nbsp;            return java.lang.String.format(&quot;%s(%s)&quot;, fun, listToString(arguments, &quot;,&quot;));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class Assignment extends Expression {
&nbsp;
&nbsp;        private final java.lang.String id;
&nbsp;        private final int i;
&nbsp;        private final Expression exp;
&nbsp;
&nbsp;        Assignment(java.lang.String id, Expression exp) {
<b class="fc">&nbsp;            this(id, -1, exp);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        Assignment(java.lang.String id, int i, Expression exp) {</b>
<b class="fc">&nbsp;            this.id = id;</b>
<b class="fc">&nbsp;            this.i = i;</b>
<b class="fc">&nbsp;            this.exp = exp;</b>
&nbsp;        }
&nbsp;
&nbsp;        public java.lang.String getId() {
<b class="fc">&nbsp;            return id;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getExpression() {
<b class="fc">&nbsp;            return exp;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            if (i != -1)</b>
<b class="nc">&nbsp;                ctx.storeVariable(i, exp.interpret(ctx, input));</b>
&nbsp;            else
<b class="fc">&nbsp;                ctx.storeVariable(id, exp.interpret(ctx, input));</b>
<b class="fc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="fc">&nbsp;            return i != -1 ? java.lang.String.format(&quot;%s:%s = %s&quot;, id, i, exp)</b>
<b class="fc">&nbsp;                           : java.lang.String.format(&quot;%s = %s&quot;, id, exp);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="fc">&nbsp;            if (this == obj) return true;</b>
<b class="fc">&nbsp;            if (!(obj instanceof Assignment)) return false;</b>
<b class="fc">&nbsp;            Assignment other = (Assignment) obj;</b>
<b class="fc">&nbsp;            return this.id.equals(other.id) &amp;&amp; this.i == other.i &amp;&amp; this.exp.equals(other.exp);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="fc">&nbsp;            return Objects.hash(this.id, this.i, this.exp);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class LShiftANDEqZero extends Expression {
&nbsp;
&nbsp;        private final Expression lhs;
&nbsp;        private final Expression rhs;
&nbsp;
<b class="fc">&nbsp;        LShiftANDEqZero(Expression lhs, Expression rhs) {</b>
<b class="fc">&nbsp;            this.lhs = lhs;</b>
<b class="fc">&nbsp;            this.rhs = rhs;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getLhs() {
<b class="fc">&nbsp;            return lhs;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getRhs() {
<b class="fc">&nbsp;            return rhs;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            Object lhs = this.lhs.interpret(ctx, input);</b>
<b class="fc">&nbsp;            Object rhs = this.rhs.interpret(ctx, input);</b>
&nbsp;
<b class="fc">&nbsp;            if (lhs instanceof java.lang.Integer &amp;&amp; rhs instanceof java.lang.Integer)</b>
<b class="fc">&nbsp;                return (((java.lang.Integer) lhs) &amp; (1 &lt;&lt; ((java.lang.Integer) rhs))) == 0;</b>
&nbsp;
<b class="nc">&nbsp;            throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="fc">&nbsp;            return java.lang.String.format(&quot;%s&amp;(1&lt;&lt;%s) == 0&quot;, lhs, rhs);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="nc">&nbsp;            if (this == obj) return true;</b>
<b class="nc">&nbsp;            if (!(obj instanceof LShiftANDEqZero)) return false;</b>
<b class="nc">&nbsp;            LShiftANDEqZero other = (LShiftANDEqZero) obj;</b>
<b class="nc">&nbsp;            return this.lhs.equals(other.lhs) &amp;&amp; this.rhs.equals(other.rhs);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="nc">&nbsp;            return Objects.hash(this.lhs, this.rhs);</b>
&nbsp;        }
&nbsp;
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class OrIndent extends Expression {
&nbsp;
&nbsp;        private final Expression index;
&nbsp;        private final Expression ind;
&nbsp;        private final Expression first;
&nbsp;        private final Expression lExt;
&nbsp;
<b class="fc">&nbsp;        OrIndent(Expression index, Expression ind, Expression first, Expression lExt) {</b>
<b class="fc">&nbsp;            this.index = index;</b>
<b class="fc">&nbsp;            this.ind = ind;</b>
<b class="fc">&nbsp;            this.first = first;</b>
<b class="fc">&nbsp;            this.lExt = lExt;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getIndex() {
<b class="fc">&nbsp;            return index;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getIndent() {
<b class="fc">&nbsp;            return ind;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getFirst() {
<b class="fc">&nbsp;            return first;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getLExt() {
<b class="fc">&nbsp;            return lExt;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
&nbsp;
<b class="fc">&nbsp;            int ind = (java.lang.Integer) this.ind.interpret(ctx, input);</b>
&nbsp;
<b class="fc">&nbsp;            if (ind == 0)</b>
<b class="fc">&nbsp;                return true;</b>
&nbsp;
<b class="fc">&nbsp;            int first = (java.lang.Integer) this.first.interpret(ctx, input);</b>
&nbsp;            int lExt;
<b class="fc">&nbsp;            if (first == 1) {</b>
&nbsp;
<b class="fc">&nbsp;                int index = (java.lang.Integer) this.index.interpret(ctx, input);</b>
<b class="fc">&nbsp;                lExt = (java.lang.Integer) this.lExt.interpret(ctx, input);</b>
&nbsp;
<b class="fc">&nbsp;                if (lExt - index == 0)</b>
<b class="fc">&nbsp;                    return true;</b>
&nbsp;                else {
<b class="fc">&nbsp;                    int indent = input.getColumnNumber(lExt);</b>
<b class="fc">&nbsp;                    return indent &gt; ind;</b>
&nbsp;                }
&nbsp;
&nbsp;            } else {
<b class="fc">&nbsp;                lExt = (java.lang.Integer) this.lExt.interpret(ctx, input);</b>
<b class="fc">&nbsp;                int indent = input.getColumnNumber(lExt);</b>
<b class="fc">&nbsp;                return indent &gt; ind;</b>
&nbsp;            }
&nbsp;
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
&nbsp;            // return ind + &quot; == 0 || (&quot; + first + &quot; &amp;&amp; &quot; + lExt + &quot; - &quot; + index + &quot; == 0) ||
&nbsp;            // indent(&quot; + lExt + &quot;) &gt; &quot; + ind;
<b class="fc">&nbsp;            return java.lang.String.format(&quot;f(%s,%s,%s,%s)&quot;, index, ind, first, lExt);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="nc">&nbsp;            if (this == obj) return true;</b>
<b class="nc">&nbsp;            if (!(obj instanceof OrIndent)) return false;</b>
<b class="nc">&nbsp;            OrIndent other = (OrIndent) obj;</b>
<b class="nc">&nbsp;            return this.index.equals(other.index)</b>
<b class="nc">&nbsp;                   &amp;&amp; this.ind.equals(other.ind)</b>
<b class="nc">&nbsp;                   &amp;&amp; this.first.equals(other.first)</b>
<b class="nc">&nbsp;                   &amp;&amp; this.lExt.equals(other.lExt);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="nc">&nbsp;            return Objects.hash(this.index, this.ind, this.first, this.lExt);</b>
&nbsp;        }
&nbsp;
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class AndIndent extends Expression {
&nbsp;
&nbsp;        private final Expression index;
&nbsp;        private final Expression first;
&nbsp;        private final Expression lExt;
&nbsp;
&nbsp;        private final boolean returnIndex;
&nbsp;
<b class="fc">&nbsp;        AndIndent(Expression index, Expression first, Expression lExt) {</b>
<b class="fc">&nbsp;            this.index = index;</b>
<b class="fc">&nbsp;            this.first = first;</b>
<b class="fc">&nbsp;            this.lExt = lExt;</b>
<b class="fc">&nbsp;            this.returnIndex = false;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        AndIndent(Expression index, Expression first, Expression lExt, boolean returnIndex) {</b>
<b class="fc">&nbsp;            this.index = index;</b>
<b class="fc">&nbsp;            this.first = first;</b>
<b class="fc">&nbsp;            this.lExt = lExt;</b>
<b class="fc">&nbsp;            this.returnIndex = returnIndex;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getIndex() {
<b class="fc">&nbsp;            return index;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getFirst() {
<b class="fc">&nbsp;            return first;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getLExt() {
<b class="fc">&nbsp;            return lExt;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            int first = (java.lang.Integer) this.first.interpret(ctx, input);</b>
<b class="fc">&nbsp;            if (first == 1) {</b>
&nbsp;
<b class="fc">&nbsp;                int index = (java.lang.Integer) this.index.interpret(ctx, input);</b>
<b class="fc">&nbsp;                int lExt = (java.lang.Integer) this.lExt.interpret(ctx, input);</b>
&nbsp;
<b class="fc">&nbsp;                if (lExt - index == 0)</b>
<b class="nc">&nbsp;                    return returnIndex ? index : 1;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            return 0;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
&nbsp;//            return returnIndex? &quot;(&quot; +first + &quot; &amp;&amp; &quot; + lExt + &quot; - &quot; + index + &quot; == 0)?&quot; + index
&nbsp;//                              : first + &quot; &amp;&amp; &quot; + lExt + &quot; - &quot; + index + &quot; == 0&quot;;
<b class="fc">&nbsp;            return returnIndex ? java.lang.String.format(&quot;g(%s,%s,%s,%s)&quot;, index, first, lExt, 1)</b>
<b class="fc">&nbsp;                : java.lang.String.format(&quot;g(%s,%s,%s,%s)&quot;, index, first, lExt, 0);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="nc">&nbsp;            if (this == obj) return true;</b>
<b class="nc">&nbsp;            if (!(obj instanceof AndIndent)) return false;</b>
<b class="nc">&nbsp;            AndIndent other = (AndIndent) obj;</b>
<b class="nc">&nbsp;            return this.index.equals(other.index)</b>
<b class="nc">&nbsp;                   &amp;&amp; this.first.equals(other.first)</b>
<b class="nc">&nbsp;                   &amp;&amp; this.lExt.equals(other.lExt);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="nc">&nbsp;            return Objects.hash(this.index, this.first, this.lExt);</b>
&nbsp;        }
&nbsp;
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public abstract static class BinaryExpression extends Expression {
&nbsp;        protected final Expression lhs;
&nbsp;        protected final Expression rhs;
&nbsp;        private final java.lang.String symbolName;
&nbsp;
<b class="fc">&nbsp;        protected BinaryExpression(Expression lhs, Expression rhs, java.lang.String symbolName) {</b>
<b class="fc">&nbsp;            this.lhs = lhs;</b>
<b class="fc">&nbsp;            this.rhs = rhs;</b>
<b class="fc">&nbsp;            this.symbolName = symbolName;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getLhs() {
<b class="fc">&nbsp;            return lhs;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getRhs() {
<b class="fc">&nbsp;            return rhs;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="fc">&nbsp;            return java.lang.String.format(&quot;%s %s %s&quot;, lhs, symbolName, rhs);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="fc">&nbsp;            if (this == obj) return true;</b>
<b class="fc">&nbsp;            if (!(obj instanceof BinaryExpression)) return false;</b>
<b class="fc">&nbsp;            BinaryExpression other = (BinaryExpression) obj;</b>
<b class="fc">&nbsp;            return this.lhs.equals(other.lhs)</b>
<b class="fc">&nbsp;                   &amp;&amp; this.rhs.equals(other.rhs)</b>
<b class="fc">&nbsp;                   &amp;&amp; Objects.equals(this.symbolName, other.symbolName);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="fc">&nbsp;            return Objects.hash(this.lhs, this.rhs, this.symbolName);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static class Or extends BinaryExpression {
&nbsp;
&nbsp;        Or(Expression lhs, Expression rhs) {
<b class="fc">&nbsp;            super(lhs, rhs, &quot;||&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            boolean lhs = (java.lang.Boolean) this.lhs.interpret(ctx, input);</b>
<b class="fc">&nbsp;            if (lhs) return true;</b>
&nbsp;
<b class="fc">&nbsp;            return this.rhs.interpret(ctx, input);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static class And extends BinaryExpression {
&nbsp;
&nbsp;        And(Expression lhs, Expression rhs) {
<b class="fc">&nbsp;            super(lhs, rhs, &quot;&amp;&amp;&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            boolean lhs = (java.lang.Boolean) this.lhs.interpret(ctx, input);</b>
<b class="fc">&nbsp;            if (!lhs) return false;</b>
&nbsp;
<b class="fc">&nbsp;            return this.rhs.interpret(ctx, input);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class Less extends BinaryExpression {
&nbsp;
&nbsp;        Less(Expression lhs, Expression rhs) {
<b class="nc">&nbsp;            super(lhs, rhs, &quot;&lt;&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="nc">&nbsp;            Object lhs = this.lhs.interpret(ctx, input);</b>
<b class="nc">&nbsp;            Object rhs = this.rhs.interpret(ctx, input);</b>
&nbsp;
<b class="nc">&nbsp;            if (lhs instanceof java.lang.Integer &amp;&amp; rhs instanceof java.lang.Integer) {</b>
<b class="nc">&nbsp;                return ((java.lang.Integer) lhs) &lt; ((java.lang.Integer) rhs);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (lhs instanceof java.lang.Float &amp;&amp; rhs instanceof java.lang.Float) {</b>
<b class="nc">&nbsp;                return ((java.lang.Float) lhs) &lt; ((java.lang.Float) rhs);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="nc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class LessThanEqual extends BinaryExpression {
&nbsp;
&nbsp;        LessThanEqual(Expression lhs, Expression rhs) {
<b class="fc">&nbsp;            super(lhs, rhs, &quot;&lt;=&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            Object lhs = this.lhs.interpret(ctx, input);</b>
<b class="fc">&nbsp;            Object rhs = this.rhs.interpret(ctx, input);</b>
&nbsp;
<b class="fc">&nbsp;            if (lhs instanceof java.lang.Integer &amp;&amp; rhs instanceof java.lang.Integer) {</b>
<b class="fc">&nbsp;                return ((java.lang.Integer) lhs) &lt;= ((java.lang.Integer) rhs);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (lhs instanceof java.lang.Float &amp;&amp; rhs instanceof java.lang.Float) {</b>
<b class="nc">&nbsp;                return ((java.lang.Float) lhs) &lt;= ((java.lang.Float) rhs);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class Greater extends BinaryExpression {
&nbsp;
&nbsp;        Greater(Expression lhs, Expression rhs) {
<b class="fc">&nbsp;            super(lhs, rhs, &quot;&gt;&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            Object lhs = this.lhs.interpret(ctx, input);</b>
<b class="fc">&nbsp;            Object rhs = this.rhs.interpret(ctx, input);</b>
&nbsp;
<b class="fc">&nbsp;            if (lhs instanceof java.lang.Integer &amp;&amp; rhs instanceof java.lang.Integer) {</b>
<b class="fc">&nbsp;                return ((java.lang.Integer) lhs) &gt; ((java.lang.Integer) rhs);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (lhs instanceof java.lang.Float &amp;&amp; rhs instanceof java.lang.Float) {</b>
<b class="nc">&nbsp;                return ((java.lang.Float) lhs) &gt; ((java.lang.Float) rhs);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class GreaterThanEqual extends BinaryExpression {
&nbsp;
&nbsp;        GreaterThanEqual(Expression lhs, Expression rhs) {
<b class="fc">&nbsp;            super(lhs, rhs, &quot;&gt;=&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getLhs() {
<b class="fc">&nbsp;            return lhs;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getRhs() {
<b class="fc">&nbsp;            return rhs;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            Object lhs = this.lhs.interpret(ctx, input);</b>
<b class="fc">&nbsp;            Object rhs = this.rhs.interpret(ctx, input);</b>
&nbsp;
<b class="fc">&nbsp;            if (lhs instanceof java.lang.Integer &amp;&amp; rhs instanceof java.lang.Integer) {</b>
<b class="fc">&nbsp;                return ((java.lang.Integer) lhs) &gt;= ((java.lang.Integer) rhs);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (lhs instanceof java.lang.Float &amp;&amp; rhs instanceof java.lang.Float) {</b>
<b class="nc">&nbsp;                return ((java.lang.Float) lhs) &gt;= ((java.lang.Float) rhs);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class Equal extends BinaryExpression {
&nbsp;
&nbsp;        Equal(Expression lhs, Expression rhs) {
<b class="fc">&nbsp;            super(lhs, rhs, &quot;==&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            Object lhs = this.lhs.interpret(ctx, input);</b>
<b class="fc">&nbsp;            Object rhs = this.rhs.interpret(ctx, input);</b>
&nbsp;
<b class="fc">&nbsp;            if (lhs == AST.UNDEF || rhs == AST.UNDEF) {</b>
<b class="fc">&nbsp;                return lhs == rhs;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (lhs instanceof java.lang.Integer &amp;&amp; rhs instanceof java.lang.Integer) {</b>
<b class="fc">&nbsp;                return lhs.equals(rhs);</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (lhs instanceof java.lang.Float &amp;&amp; rhs instanceof java.lang.Float) {</b>
<b class="nc">&nbsp;                return lhs.equals(rhs);</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (lhs instanceof java.lang.String &amp;&amp; rhs instanceof java.lang.String) {</b>
<b class="fc">&nbsp;                return lhs.equals(rhs);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class NotEqual extends BinaryExpression {
&nbsp;
&nbsp;        NotEqual(Expression lhs, Expression rhs) {
<b class="fc">&nbsp;            super(lhs, rhs, &quot;!=&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            Object lhs = this.lhs.interpret(ctx, input);</b>
<b class="fc">&nbsp;            Object rhs = this.rhs.interpret(ctx, input);</b>
&nbsp;
<b class="fc">&nbsp;            if (lhs instanceof java.lang.Integer &amp;&amp; rhs instanceof java.lang.Integer) {</b>
<b class="fc">&nbsp;                return lhs != rhs;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (lhs instanceof java.lang.Float &amp;&amp; rhs instanceof java.lang.Float) {</b>
<b class="nc">&nbsp;                return lhs != rhs;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class Add extends BinaryExpression {
&nbsp;
&nbsp;        public Add(Expression lhs, Expression rhs) {
<b class="fc">&nbsp;            super(lhs, rhs, &quot;+&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            Object lhs = this.lhs.interpret(ctx, input);</b>
<b class="fc">&nbsp;            Object rhs = this.rhs.interpret(ctx, input);</b>
&nbsp;
<b class="fc">&nbsp;            if (lhs instanceof java.lang.Integer &amp;&amp; rhs instanceof java.lang.Integer)</b>
<b class="fc">&nbsp;                return (java.lang.Integer) lhs + (java.lang.Integer) rhs;</b>
&nbsp;
<b class="nc">&nbsp;            if (lhs instanceof java.lang.Float &amp;&amp; rhs instanceof java.lang.Float)</b>
<b class="nc">&nbsp;                return (java.lang.Float) lhs + (java.lang.Float) rhs;</b>
&nbsp;
<b class="nc">&nbsp;            throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static class Subtract extends BinaryExpression {
&nbsp;
&nbsp;        public Subtract(Expression lhs, Expression rhs) {
<b class="nc">&nbsp;            super(lhs, rhs, &quot;-&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="nc">&nbsp;            Object lhs = this.lhs.interpret(ctx, input);</b>
<b class="nc">&nbsp;            Object rhs = this.rhs.interpret(ctx, input);</b>
&nbsp;
<b class="nc">&nbsp;            if (lhs instanceof java.lang.Integer &amp;&amp; rhs instanceof java.lang.Integer)</b>
<b class="nc">&nbsp;                return (java.lang.Integer) lhs - (java.lang.Integer) rhs;</b>
&nbsp;
<b class="nc">&nbsp;            if (lhs instanceof java.lang.Float &amp;&amp; rhs instanceof java.lang.Float)</b>
<b class="nc">&nbsp;                return (java.lang.Float) lhs - (java.lang.Float) rhs;</b>
&nbsp;
<b class="nc">&nbsp;            throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="nc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static class Multiply extends BinaryExpression {
&nbsp;
&nbsp;        public Multiply(Expression lhs, Expression rhs) {
<b class="nc">&nbsp;            super(lhs, rhs, &quot;*&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="nc">&nbsp;            Object lhs = this.lhs.interpret(ctx, input);</b>
<b class="nc">&nbsp;            Object rhs = this.rhs.interpret(ctx, input);</b>
&nbsp;
<b class="nc">&nbsp;            if (lhs instanceof java.lang.Integer &amp;&amp; rhs instanceof java.lang.Integer)</b>
<b class="nc">&nbsp;                return (java.lang.Integer) lhs * (java.lang.Integer) rhs;</b>
&nbsp;
<b class="nc">&nbsp;            if (lhs instanceof java.lang.Float &amp;&amp; rhs instanceof java.lang.Float)</b>
<b class="nc">&nbsp;                return (java.lang.Float) lhs * (java.lang.Float) rhs;</b>
&nbsp;
<b class="nc">&nbsp;            throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="nc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static class Divide extends BinaryExpression {
&nbsp;
&nbsp;        public Divide(Expression lhs, Expression rhs) {
<b class="nc">&nbsp;            super(lhs, rhs, &quot;/&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="nc">&nbsp;            Object lhs = this.lhs.interpret(ctx, input);</b>
<b class="nc">&nbsp;            Object rhs = this.rhs.interpret(ctx, input);</b>
&nbsp;
<b class="nc">&nbsp;            if (lhs instanceof java.lang.Integer &amp;&amp; rhs instanceof java.lang.Integer)</b>
<b class="nc">&nbsp;                return (java.lang.Integer) lhs / (java.lang.Integer) rhs;</b>
&nbsp;
<b class="nc">&nbsp;            if (lhs instanceof java.lang.Float &amp;&amp; rhs instanceof java.lang.Float)</b>
<b class="nc">&nbsp;                return (java.lang.Float) lhs / (java.lang.Float) rhs;</b>
&nbsp;
<b class="nc">&nbsp;            throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="nc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static class LeftExtent extends Expression {
&nbsp;
<b class="fc">&nbsp;        public static java.lang.String format = &quot;%s.lExt&quot;;</b>
&nbsp;
&nbsp;        private final java.lang.String label;
&nbsp;
<b class="fc">&nbsp;        LeftExtent(java.lang.String label) {</b>
<b class="fc">&nbsp;            this.label = label;</b>
&nbsp;        }
&nbsp;
&nbsp;        public java.lang.String getLabel() {
<b class="fc">&nbsp;            return label;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            Object value = ctx.lookupVariable(java.lang.String.format(format, label));</b>
<b class="fc">&nbsp;            if (value == null) {</b>
<b class="nc">&nbsp;                throw new UndeclaredVariableException(label + &quot;.&quot; + &quot;lExt&quot;);</b>
&nbsp;            }
<b class="fc">&nbsp;            return value;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="fc">&nbsp;            return java.lang.String.format(&quot;%s.lExt&quot;, label);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="fc">&nbsp;            if (this == obj) return true;</b>
<b class="fc">&nbsp;            if (!(obj instanceof LeftExtent)) return false;</b>
<b class="fc">&nbsp;            LeftExtent other = (LeftExtent) obj;</b>
<b class="fc">&nbsp;            return this.label.equals(other.label);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="fc">&nbsp;            return this.label.hashCode();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class RightExtent extends Expression {
&nbsp;
<b class="fc">&nbsp;        public static java.lang.String format = &quot;%s.rExt&quot;;</b>
&nbsp;
&nbsp;        private final java.lang.String label;
&nbsp;
<b class="fc">&nbsp;        RightExtent(java.lang.String label) {</b>
<b class="fc">&nbsp;            this.label = label;</b>
&nbsp;        }
&nbsp;
&nbsp;        public java.lang.String getLabel() {
<b class="fc">&nbsp;            return label;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            Object value = ctx.lookupVariable(label);</b>
<b class="fc">&nbsp;            if (value == null) {</b>
<b class="nc">&nbsp;                throw new UndeclaredVariableException(label);</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (value instanceof NonPackedNode) {</b>
<b class="fc">&nbsp;                return ((NonPackedNode) value).getRightExtent();</b>
&nbsp;                // In case of recognizer, we don&#39;t have a node. The right extent will be equal to the recognized value.
<b class="fc">&nbsp;            } else if (value instanceof RecognizerResult) {</b>
<b class="fc">&nbsp;                return ((RecognizerResult) value).getRightExtent();</b>
&nbsp;            } else {
<b class="nc">&nbsp;                throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="fc">&nbsp;            return java.lang.String.format(&quot;%s.rExt&quot;, label);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="fc">&nbsp;            if (this == obj) return true;</b>
<b class="fc">&nbsp;            if (!(obj instanceof RightExtent)) return false;</b>
<b class="fc">&nbsp;            RightExtent other = (RightExtent) obj;</b>
<b class="fc">&nbsp;            return this.label.equals(other.label);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="fc">&nbsp;            return this.label.hashCode();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class Yield extends Expression {
&nbsp;
<b class="fc">&nbsp;        public static java.lang.String format = &quot;%s.yield&quot;;</b>
&nbsp;
&nbsp;        private final java.lang.String label;
&nbsp;        private final int i;
&nbsp;
&nbsp;        Yield(java.lang.String label) {
<b class="fc">&nbsp;            this(label, -1);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        Yield(java.lang.String label, int i) {</b>
<b class="fc">&nbsp;            this.label = label;</b>
<b class="fc">&nbsp;            this.i = i;</b>
&nbsp;        }
&nbsp;
&nbsp;        public java.lang.String getLabel() {
<b class="fc">&nbsp;            return label;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            Object value = i == -1 ? ctx.lookupVariable(label) : ctx.lookupVariable(i);</b>
<b class="fc">&nbsp;            if (value == null) {</b>
<b class="nc">&nbsp;                throw new UndeclaredVariableException(label);</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (value instanceof NonPackedNode) {</b>
<b class="fc">&nbsp;                NonPackedNode node = (NonPackedNode) value;</b>
<b class="fc">&nbsp;                return input.subString(node.getLeftExtent(), node.getRightExtent());</b>
&nbsp;            } // In case of recognizer, we don&#39;t have a node.
<b class="fc">&nbsp;            else if (value instanceof RecognizerResult) {</b>
<b class="fc">&nbsp;                return input.subString(((RecognizerResult) value).getLeftExtent(),</b>
<b class="fc">&nbsp;                    ((RecognizerResult) value).getRightExtent());</b>
&nbsp;            } else {
<b class="nc">&nbsp;                throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="fc">&nbsp;            return i == -1 ? java.lang.String.format(&quot;%s.yield&quot;, label)</b>
<b class="nc">&nbsp;                           : java.lang.String.format(&quot;%s:%d.yield&quot;, label, i);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="fc">&nbsp;            if (this == obj) return true;</b>
<b class="fc">&nbsp;            if (!(obj instanceof Yield)) return false;</b>
<b class="fc">&nbsp;            Yield other = (Yield) obj;</b>
<b class="fc">&nbsp;            return this.label.equals(other.label) &amp;&amp; this.i == other.i;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="fc">&nbsp;            return Objects.hash(this.label, this.i);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static class Val extends Expression {
&nbsp;
<b class="fc">&nbsp;        public static java.lang.String format = &quot;%s.val&quot;;</b>
&nbsp;
&nbsp;        private final java.lang.String label;
&nbsp;
<b class="fc">&nbsp;        Val(java.lang.String label) {</b>
<b class="fc">&nbsp;            this.label = label;</b>
&nbsp;        }
&nbsp;
&nbsp;        public java.lang.String getLabel() {
<b class="fc">&nbsp;            return label;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            Object value = ctx.lookupVariable(label);</b>
<b class="fc">&nbsp;            if (value == null) {</b>
<b class="nc">&nbsp;                throw new UndeclaredVariableException(label);</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (value instanceof NonterminalNodeWithValue) {</b>
<b class="fc">&nbsp;                NonterminalNodeWithValue node = (NonterminalNodeWithValue) value;</b>
<b class="fc">&nbsp;                return node.getValue();</b>
&nbsp;            } // In case of recognizer, we don&#39;t have a node.
<b class="fc">&nbsp;            else if (value instanceof RecognizerResult) {</b>
<b class="fc">&nbsp;                return ((RecognizerResult) value).getValue();</b>
&nbsp;            } else {
<b class="nc">&nbsp;                throw new UnexpectedTypeOfArgumentException(this);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="nc">&nbsp;            if (this == obj) return true;</b>
<b class="nc">&nbsp;            if (!(obj instanceof Val)) return false;</b>
<b class="nc">&nbsp;            Val other = (Val) obj;</b>
<b class="nc">&nbsp;            return this.label.equals(other.label);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="nc">&nbsp;            return this.label.hashCode();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="nc">&nbsp;            return java.lang.String.format(&quot;%s.val&quot;, label);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static class EndOfFile extends Expression {
&nbsp;
&nbsp;        private final Expression index;
&nbsp;
<b class="nc">&nbsp;        EndOfFile(Expression index) {</b>
<b class="nc">&nbsp;            this.index = index;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getIndex() {
<b class="nc">&nbsp;            return index;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="nc">&nbsp;            int index = (java.lang.Integer) this.index.interpret(ctx, input);</b>
<b class="nc">&nbsp;            int length = input.length();</b>
<b class="nc">&nbsp;            return length == index + 1;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="nc">&nbsp;            return java.lang.String.format(&quot;$(%s)&quot;, index);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="nc">&nbsp;            if (this == obj) return true;</b>
<b class="nc">&nbsp;            if (!(obj instanceof EndOfFile)) return false;</b>
<b class="nc">&nbsp;            EndOfFile other = (EndOfFile) obj;</b>
<b class="nc">&nbsp;            return this.index.equals(other.index);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="nc">&nbsp;            return this.index.hashCode();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="nc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static class IfThenElse extends Expression {
&nbsp;
&nbsp;        private final Expression condition;
&nbsp;        private final Expression thenPart;
&nbsp;        private final Expression elsePart;
&nbsp;
<b class="fc">&nbsp;        IfThenElse(Expression condition, Expression thenPart, Expression elsePart) {</b>
<b class="fc">&nbsp;            this.condition = condition;</b>
<b class="fc">&nbsp;            this.thenPart = thenPart;</b>
<b class="fc">&nbsp;            this.elsePart = elsePart;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getCondition() {
<b class="fc">&nbsp;            return condition;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getThenPart() {
<b class="fc">&nbsp;            return thenPart;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Expression getElsePart() {
<b class="fc">&nbsp;            return elsePart;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Object interpret(IEvaluatorContext ctx, Input input) {
<b class="fc">&nbsp;            boolean cond = (java.lang.Boolean) condition.interpret(ctx, input);</b>
<b class="fc">&nbsp;            if (cond)</b>
<b class="fc">&nbsp;                return thenPart.interpret(ctx, input);</b>
&nbsp;            else
<b class="fc">&nbsp;                return elsePart.interpret(ctx, input);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public java.lang.String toString() {
<b class="fc">&nbsp;            return java.lang.String.format(&quot;(%s)? %s : %s&quot;, condition, thenPart, elsePart);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean equals(Object obj) {
<b class="fc">&nbsp;            if (this == obj) return true;</b>
<b class="fc">&nbsp;            if (!(obj instanceof IfThenElse)) return false;</b>
<b class="fc">&nbsp;            IfThenElse other = (IfThenElse) obj;</b>
<b class="fc">&nbsp;            return this.condition.equals(other.condition)</b>
<b class="fc">&nbsp;                   &amp;&amp; this.thenPart.equals(other.thenPart)</b>
<b class="fc">&nbsp;                   &amp;&amp; this.elsePart.equals(other.elsePart);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public int hashCode() {
<b class="fc">&nbsp;            return Objects.hash(this.condition, this.thenPart, this.elsePart);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public &lt;T&gt; T accept(IAbstractASTVisitor&lt;T&gt; visitor) {
<b class="fc">&nbsp;            return visitor.visit(this);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-03-03 17:08</div>
</div>
</body>
</html>
