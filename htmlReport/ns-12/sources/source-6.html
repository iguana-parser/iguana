


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1252"> 
  <title>Coverage Report > RuntimeRule</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.iguana.grammar.runtime</a>
</div>

<h1>Coverage Summary for Class: RuntimeRule (org.iguana.grammar.runtime)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">RuntimeRule</td>
<td class="coverageStat">
  <span class="percent">
    83.3%
  </span>
  <span class="absValue">
    (35/42)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    71.3%
  </span>
  <span class="absValue">
    (62/87)
  </span>
</td>
</tr>
  <tr>
    <td class="name">RuntimeRule$Builder</td>
<td class="coverageStat">
  <span class="percent">
    92%
  </span>
  <span class="absValue">
    (23/25)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    93.7%
  </span>
  <span class="absValue">
    (74/79)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    86.6%
  </span>
  <span class="absValue">
    (58/67)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    81.9%
  </span>
  <span class="absValue">
    (136/166)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * Copyright (c) 2015, Ali Afroozeh and Anastasia Izmaylova, Centrum Wiskunde &amp; Informatica (CWI)
&nbsp; * All rights reserved.
&nbsp; *
&nbsp; * Redistribution and use in source and binary forms, with or without 
&nbsp; * modification, are permitted provided that the following conditions are met:
&nbsp; *
&nbsp; * 1. Redistributions of source code must retain the above copyright notice, this 
&nbsp; *    list of conditions and the following disclaimer.
&nbsp; *
&nbsp; * 2. Redistributions in binary form must reproduce the above copyright notice, this 
&nbsp; *    list of conditions and the following disclaimer in the documentation and/or 
&nbsp; *    other materials provided with the distribution.
&nbsp; *
&nbsp; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND 
&nbsp; * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
&nbsp; * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
&nbsp; * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
&nbsp; * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
&nbsp; * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, 
&nbsp; * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
&nbsp; * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
&nbsp; * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY 
&nbsp; * OF SUCH DAMAGE.
&nbsp; *
&nbsp; */
&nbsp;
&nbsp;package org.iguana.grammar.runtime;
&nbsp;
&nbsp;import org.iguana.grammar.slot.NonterminalNodeType;
&nbsp;import org.iguana.grammar.symbol.Associativity;
&nbsp;import org.iguana.grammar.symbol.LayoutStrategy;
&nbsp;import org.iguana.grammar.symbol.Nonterminal;
&nbsp;import org.iguana.grammar.symbol.Symbol;
&nbsp;import org.iguana.utils.collections.hash.MurmurHash3;
&nbsp;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.Arrays;
&nbsp;import java.util.Collections;
&nbsp;import java.util.HashMap;
&nbsp;import java.util.HashSet;
&nbsp;import java.util.List;
&nbsp;import java.util.Map;
&nbsp;import java.util.Objects;
&nbsp;import java.util.Set;
&nbsp;
&nbsp;/**
&nbsp; * 
&nbsp; * @author Ali Afroozeh
&nbsp; * @author Anastasia Izmaylova
&nbsp; *
&nbsp; */
&nbsp;public class RuntimeRule {
&nbsp;
&nbsp;    private final Nonterminal head;
&nbsp;
&nbsp;    private final List&lt;Symbol&gt; body;
&nbsp;
&nbsp;    private final Symbol layout;
&nbsp;
&nbsp;    private final LayoutStrategy layoutStrategy;
&nbsp;
&nbsp;    private final Recursion recursion;
&nbsp;    private final Recursion irecursion;
&nbsp;
&nbsp;    private final String leftEnd;
&nbsp;    private final String rightEnd;
&nbsp;
&nbsp;    private final Set&lt;String&gt; leftEnds;
&nbsp;    private final Set&lt;String&gt; rightEnds;
&nbsp;
&nbsp;    private final Associativity associativity;
&nbsp;    private final AssociativityGroup associativityGroup;
&nbsp;
&nbsp;    private final int precedence;
&nbsp;    private final PrecedenceLevel precedenceLevel;
&nbsp;
&nbsp;    private final String label;
&nbsp;
&nbsp;    private final Map&lt;String, Object&gt; attributes;
&nbsp;
&nbsp;    private final Symbol definition; // Used for converted EBNF nodes
&nbsp;
<b class="fc">&nbsp;    public RuntimeRule(Builder builder) {</b>
<b class="fc">&nbsp;        this.body = builder.body;</b>
<b class="fc">&nbsp;        this.head = builder.head;</b>
<b class="fc">&nbsp;        this.layout = builder.layout;</b>
<b class="fc">&nbsp;        this.layoutStrategy = builder.layoutStrategy;</b>
<b class="fc">&nbsp;        this.recursion = builder.recursion;</b>
<b class="fc">&nbsp;        this.irecursion = builder.irecursion;</b>
<b class="fc">&nbsp;        this.leftEnd = builder.leftEnd;</b>
<b class="fc">&nbsp;        this.rightEnd = builder.rightEnd;</b>
<b class="fc">&nbsp;        this.leftEnds = builder.leftEnds;</b>
<b class="fc">&nbsp;        this.rightEnds = builder.rightEnds;</b>
<b class="fc">&nbsp;        this.associativity = builder.associativity;</b>
<b class="fc">&nbsp;        this.associativityGroup = builder.associativityGroup;</b>
<b class="fc">&nbsp;        this.precedence = builder.precedence;</b>
<b class="fc">&nbsp;        this.precedenceLevel = builder.precedenceLevel;</b>
<b class="fc">&nbsp;        this.label = builder.label;</b>
<b class="fc">&nbsp;        this.attributes = builder.attributes;</b>
<b class="fc">&nbsp;        this.definition = builder.definition;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Nonterminal getHead() {
<b class="fc">&nbsp;        return head;</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;Symbol&gt; getBody() {
<b class="fc">&nbsp;        return body;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Symbol getFirstSymbol() {
<b class="nc">&nbsp;        return symbolAt(0);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Symbol getLastSymbol() {
<b class="fc">&nbsp;        return symbolAt(size() - 1);</b>
&nbsp;    }
&nbsp;
&nbsp;    public int size() {
<b class="fc">&nbsp;        return body == null ? 0 : body.size();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Symbol symbolAt(int i) {
<b class="fc">&nbsp;        if (i &gt; body.size())</b>
<b class="nc">&nbsp;            throw new IllegalArgumentException(i + &quot; cannot be greater than &quot; + body.size());</b>
&nbsp;
<b class="fc">&nbsp;        return body.get(i);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Symbol getLayout() {
<b class="fc">&nbsp;        return layout;</b>
&nbsp;    }
&nbsp;
&nbsp;    public LayoutStrategy getLayoutStrategy() {
<b class="fc">&nbsp;        return layoutStrategy;</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean isUnary() {
<b class="fc">&nbsp;        return recursion == Recursion.LEFT_REC || recursion == Recursion.RIGHT_REC;</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean isLeftRecursive() {
<b class="fc">&nbsp;        return recursion == Recursion.LEFT_RIGHT_REC || recursion == Recursion.LEFT_REC;</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean isILeftRecursive() {
<b class="fc">&nbsp;        return irecursion == Recursion.iLEFT_RIGHT_REC || irecursion == Recursion.iLEFT_REC;</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean isRightRecursive() {
<b class="fc">&nbsp;        return recursion == Recursion.LEFT_RIGHT_REC || recursion == Recursion.RIGHT_REC;</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean isIRightRecursive() {
<b class="fc">&nbsp;        return irecursion == Recursion.iLEFT_RIGHT_REC || irecursion == Recursion.iRIGHT_REC;</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean isLeftOrRightRecursive() {
<b class="fc">&nbsp;        return recursion == Recursion.LEFT_RIGHT_REC</b>
&nbsp;               || recursion == Recursion.LEFT_REC
&nbsp;               || recursion == Recursion.RIGHT_REC;
&nbsp;    }
&nbsp;
&nbsp;    public boolean isILeftOrRightRecursive() {
<b class="fc">&nbsp;        return irecursion == Recursion.iLEFT_RIGHT_REC</b>
&nbsp;               || irecursion == Recursion.iLEFT_REC
&nbsp;               || irecursion == Recursion.iRIGHT_REC;
&nbsp;    }
&nbsp;
&nbsp;    public Recursion getRecursion() {
<b class="fc">&nbsp;        return recursion;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Recursion getIRecursion() {
<b class="fc">&nbsp;        return irecursion;</b>
&nbsp;    }
&nbsp;
&nbsp;    public String getLeftEnd() {
<b class="fc">&nbsp;        return leftEnd;</b>
&nbsp;    }
&nbsp;
&nbsp;    public String getRightEnd() {
<b class="fc">&nbsp;        return rightEnd;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Set&lt;String&gt; getLeftEnds() {
<b class="fc">&nbsp;        return leftEnds;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Set&lt;String&gt; getRightEnds() {
<b class="fc">&nbsp;        return rightEnds;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Associativity getAssociativity() {
<b class="fc">&nbsp;        return associativity;</b>
&nbsp;    }
&nbsp;
&nbsp;    public AssociativityGroup getAssociativityGroup() {
<b class="fc">&nbsp;        return associativityGroup;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getPrecedence() {
<b class="fc">&nbsp;        return precedence;</b>
&nbsp;    }
&nbsp;
&nbsp;    public PrecedenceLevel getPrecedenceLevel() {
<b class="fc">&nbsp;        return precedenceLevel;</b>
&nbsp;    }
&nbsp;
&nbsp;    public String getLabel() {
<b class="fc">&nbsp;        return label;</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean hasLayout() {
<b class="nc">&nbsp;        return layout != null;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Map&lt;String, Object&gt; getAttributes() {
<b class="fc">&nbsp;        return attributes;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Symbol getDefinition() {
<b class="fc">&nbsp;        return definition;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public String toString() {
<b class="nc">&nbsp;        StringBuilder sb = new StringBuilder();</b>
<b class="nc">&nbsp;        sb.append(head).append(&quot; = &quot;);</b>
<b class="nc">&nbsp;        for (Symbol s : body) {</b>
<b class="nc">&nbsp;            sb.append(s).append(&quot; &quot;);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        if (associativity != Associativity.UNDEFINED &amp;&amp; precedence != 0) {</b>
<b class="nc">&nbsp;            sb.append(&quot; {&quot;).append(associativity.name());</b>
<b class="nc">&nbsp;            if (precedence != 0) sb.append(&quot;, &quot; + precedence);</b>
<b class="nc">&nbsp;            if (recursion != Recursion.NON_REC) sb.append(&quot;, &quot; + recursion);</b>
<b class="nc">&nbsp;            sb.append(&quot; }&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (associativityGroup != null) sb.append(associativityGroup + &quot; &quot; );</b>
<b class="nc">&nbsp;        if (precedenceLevel != null) sb.append(precedenceLevel + &quot; &quot;);</b>
<b class="nc">&nbsp;        if (label != null) sb.append(label);</b>
&nbsp;
<b class="nc">&nbsp;        return sb.toString();</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean equals(Object obj) {
<b class="fc">&nbsp;        if (this == obj) return true;</b>
<b class="fc">&nbsp;        if (!(obj instanceof RuntimeRule)) return false;</b>
&nbsp;
<b class="fc">&nbsp;        RuntimeRule other = (RuntimeRule) obj;</b>
&nbsp;
<b class="fc">&nbsp;        return head.equals(other.head) &amp;&amp; Objects.equals(body, other.body);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public int hashCode() {
<b class="fc">&nbsp;        return MurmurHash3.fn().apply(head, body);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Position getPosition(int i) {
<b class="fc">&nbsp;        if (i &lt; 0)</b>
<b class="nc">&nbsp;            throw new IllegalArgumentException(&quot;i cannot be less than zero.&quot;);</b>
&nbsp;
<b class="fc">&nbsp;        if (i &gt; size())</b>
<b class="nc">&nbsp;            throw new IllegalArgumentException(&quot;i cannot be greater than the size.&quot;);</b>
&nbsp;
<b class="fc">&nbsp;        return new Position(this, i);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Position getPosition(int i, int j) {
<b class="fc">&nbsp;        if (i &lt; 0)</b>
<b class="nc">&nbsp;            throw new IllegalArgumentException(&quot;i cannot be less than zero.&quot;);</b>
&nbsp;
<b class="fc">&nbsp;        if (i &gt; size())</b>
<b class="nc">&nbsp;            throw new IllegalArgumentException(&quot;i cannot be greater than the size.&quot;);</b>
&nbsp;
<b class="fc">&nbsp;        return new Position(this, i, j);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Builder copy() {
<b class="fc">&nbsp;        return new Builder(this);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Builder copyBuilderButWithHead(Nonterminal nonterminal) {
<b class="fc">&nbsp;        Builder builder = new Builder(this);</b>
<b class="fc">&nbsp;        builder.head = nonterminal;</b>
<b class="fc">&nbsp;        return builder;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static Builder withHead(Nonterminal nonterminal) {
<b class="fc">&nbsp;        return new Builder(nonterminal);</b>
&nbsp;    }
&nbsp;
&nbsp;    public String head() {
<b class="nc">&nbsp;        return head.getName();</b>
&nbsp;    }
&nbsp;
&nbsp;    public String label() {
<b class="nc">&nbsp;        return label;</b>
&nbsp;    }
&nbsp;        
&nbsp;
&nbsp;    public int position() {
<b class="nc">&nbsp;        return size();</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean isLayout() {
<b class="nc">&nbsp;        return head.getNodeType() == NonterminalNodeType.Layout;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static class Builder {
&nbsp;
&nbsp;        private Nonterminal head;
<b class="fc">&nbsp;        private List&lt;Symbol&gt; body = new ArrayList&lt;&gt;();</b>
<b class="fc">&nbsp;        private LayoutStrategy layoutStrategy = LayoutStrategy.INHERITED;</b>
&nbsp;        private Symbol layout;
&nbsp;
<b class="fc">&nbsp;        private Recursion recursion = Recursion.NON_REC;</b>
<b class="fc">&nbsp;        private Recursion irecursion = Recursion.NON_REC;</b>
&nbsp;
<b class="fc">&nbsp;        private String leftEnd = &quot;&quot;;</b>
<b class="fc">&nbsp;        private String rightEnd = &quot;&quot;;</b>
<b class="fc">&nbsp;        private Set&lt;String&gt; leftEnds = new HashSet&lt;&gt;();</b>
<b class="fc">&nbsp;        private Set&lt;String&gt; rightEnds = new HashSet&lt;&gt;();</b>
&nbsp;
<b class="fc">&nbsp;        private Associativity associativity = Associativity.UNDEFINED;</b>
&nbsp;        private AssociativityGroup associativityGroup;
&nbsp;
&nbsp;        private int precedence;
&nbsp;        private PrecedenceLevel precedenceLevel;
&nbsp;
&nbsp;        private String label;
&nbsp;
<b class="fc">&nbsp;        private Map&lt;String, Object&gt; attributes = new HashMap&lt;&gt;();</b>
&nbsp;        private Symbol definition;
&nbsp;
<b class="fc">&nbsp;        public Builder(Nonterminal head) {</b>
<b class="fc">&nbsp;            this.head = head;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        public Builder() {}</b>
&nbsp;
<b class="fc">&nbsp;        public Builder(RuntimeRule rule) {</b>
<b class="fc">&nbsp;            this.head = rule.head;</b>
<b class="fc">&nbsp;            this.body = rule.body;</b>
<b class="fc">&nbsp;            this.layoutStrategy = rule.layoutStrategy;</b>
<b class="fc">&nbsp;            this.layout = rule.layout;</b>
<b class="fc">&nbsp;            this.recursion = rule.recursion;</b>
<b class="fc">&nbsp;            this.irecursion = rule.irecursion;</b>
<b class="fc">&nbsp;            this.leftEnd = rule.leftEnd;</b>
<b class="fc">&nbsp;            this.rightEnd = rule.rightEnd;</b>
<b class="fc">&nbsp;            this.leftEnds = rule.leftEnds;</b>
<b class="fc">&nbsp;            this.rightEnds = rule.rightEnds;</b>
<b class="fc">&nbsp;            this.associativity = rule.associativity;</b>
&nbsp;
<b class="fc">&nbsp;            this.associativityGroup = rule.associativityGroup;</b>
<b class="fc">&nbsp;            this.precedence = rule.precedence;</b>
<b class="fc">&nbsp;            this.precedenceLevel = rule.precedenceLevel;</b>
&nbsp;
<b class="fc">&nbsp;            this.label = rule.label;</b>
&nbsp;
<b class="fc">&nbsp;            this.attributes = rule.attributes;</b>
<b class="fc">&nbsp;            this.definition = rule.definition;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder addSymbol(Symbol symbol) {
<b class="fc">&nbsp;            body.add(symbol);</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder addSymbols(Symbol... symbols) {
<b class="fc">&nbsp;            body.addAll(Arrays.asList(symbols));</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder addSymbols(List&lt;Symbol&gt; symbols) {
<b class="fc">&nbsp;            body.addAll(symbols);</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setSymbols(List&lt;Symbol&gt; symbols) {
<b class="fc">&nbsp;            body = symbols;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setLayoutStrategy(LayoutStrategy layoutStrategy) {
<b class="fc">&nbsp;            this.layoutStrategy = layoutStrategy;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;        
&nbsp;        public Builder setLayout(Symbol layout) {
<b class="fc">&nbsp;            this.layout = layout;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setRecursion(Recursion recursion) {
<b class="fc">&nbsp;            this.recursion = recursion;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setiRecursion(Recursion irecursion) {
<b class="fc">&nbsp;            this.irecursion = irecursion;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setLeftEnd(String end) {
<b class="fc">&nbsp;            this.leftEnd = end;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setRightEnd(String end) {
<b class="fc">&nbsp;            this.rightEnd = end;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setLeftEnds(Set&lt;String&gt; leftEnds) {
<b class="fc">&nbsp;            if (leftEnds != null)</b>
<b class="fc">&nbsp;                this.leftEnds = leftEnds;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setRightEnds(Set&lt;String&gt; rightEnds) {
<b class="fc">&nbsp;            if (rightEnds != null)</b>
<b class="fc">&nbsp;                this.rightEnds = rightEnds;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setAssociativity(Associativity associativity) {
<b class="fc">&nbsp;            this.associativity = associativity;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setAssociativityGroup(AssociativityGroup associativityGroup) {
<b class="fc">&nbsp;            this.associativityGroup = associativityGroup;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setPrecedence(int precedence) {
<b class="fc">&nbsp;            this.precedence = precedence;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setPrecedenceLevel(PrecedenceLevel precedenceLevel) {
<b class="fc">&nbsp;            this.precedenceLevel = precedenceLevel;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setLabel(String label) {
<b class="fc">&nbsp;            this.label = label;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setAttributes(Map&lt;String, Object&gt; attributes) {
<b class="fc">&nbsp;            this.attributes = attributes;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder addAttribute(String key, Object value) {
<b class="nc">&nbsp;            this.attributes.put(key, value);</b>
<b class="nc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder addAttributes(Map&lt;String, Object&gt; attributes) {
<b class="nc">&nbsp;            this.attributes.putAll(attributes);</b>
<b class="nc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public Builder setDefinition(Symbol definition) {
<b class="fc">&nbsp;            this.definition = definition;</b>
<b class="fc">&nbsp;            return this;</b>
&nbsp;        }
&nbsp;
&nbsp;        public RuntimeRule build() {
<b class="fc">&nbsp;            if (body == null) body = Collections.emptyList();</b>
<b class="fc">&nbsp;            if (body.stream().anyMatch(Objects::isNull))</b>
<b class="nc">&nbsp;                throw new IllegalArgumentException(&quot;symbols cannot be null: &quot; + body);</b>
<b class="fc">&nbsp;            return new RuntimeRule(this);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-03-03 17:08</div>
</div>
</body>
</html>
